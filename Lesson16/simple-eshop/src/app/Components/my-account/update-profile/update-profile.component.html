<div class="main-container">
    <h2 class="main-heading">Update Profile</h2>
    <form #updateProfileInfoForm="ngForm" class="update-profile-form" (ngSubmit)="onUpdateUserProfileInfo()">
        <div class="row">
            <div class="wrapper">
                <label for="name">Name</label>
                <input type="text" name="name" id="name" [(ngModel)]="name" #fname="ngModel" required minlength="3">
                <div class="error-container">
                    <small class="error-msg" *ngIf="fname.errors?.['required']">Name is required</small>
                    <small class="error-msg" *ngIf="fname.errors?.['minlength']">Name must be at least 3 characters</small>
                </div>
            </div>
            <div class="wrapper">
                <label for="surname">Surname</label>
                <input type="text" name="surname" id="surname" [(ngModel)]="surname" #lname="ngModel" required minlength="3">
                <div class="error-container">
                    <small class="error-msg" *ngIf="lname.errors?.['required']">Surname is required</small>
                    <small class="error-msg" *ngIf="lname.errors?.['minlength']">Surname must be at least 3 characters</small>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="wrapper">
                <label for="email">Email</label>
                <input type="email" name="email" id="email" [(ngModel)]="email" #emailAddress="ngModel" required email>
                <div class="error-container">
                    <small class="error-msg" *ngIf="emailAddress.errors?.['required']">Email is required</small>
                    <small class="error-msg" *ngIf="emailAddress.errors?.['email']">Invalid email format</small>
                </div>
            </div>
            <div class="wrapper">
                <label for="phone">Phone</label>
                <input type="number" name="phone" id="phone" [(ngModel)]="phone" #phoneNumber="ngModel" pattern="^(\\+?[0-9]{1,3})?[0-9]{9,15}$" required>
                <div class="error-container">
                    <small class="error-msg" *ngIf="phoneNumber.errors?.['required']">Phone number is required</small>
                    <small class="error-msg" *ngIf="phoneNumber.errors?.['pattern']">Invalid phone number format</small>
                </div>
            </div>
        </div>
        <button class="update-btn" type="submit">Update</button>
    </form>
    <dialog class="modal-dialog" #modalDialog>
        <button class="close-modal" (click)="closeModal()"><i class="fa-solid fa-circle-xmark"></i></button>
        <h2 class="modal-heading">Enter password to change your email.</h2>
        <form class="update-email-password-form">
            <input type="password" name="password" id="password" #passwordConfirm required>
            <button class="submit-password-btn" (click)="onSubmitPasswordForEmailChange()">Submit</button>
        </form>
    </dialog>
</div>
